if (textoOption != "Elige una categoría") {
  nuevoOption = document.createElement("option");
  nuevoOption.value = textoValue;
  nuevoOption.textContent = textoOption;
  input.appendChild(nuevoOption);
};
for (var i = 0; i < sub.length; i++) {
 
  
    console.log("-----------bucle------------");
    nuevoOption = document.createElement("option");
    nuevoOption.value = sub[i].id;
    nuevoOption.textContent = sub[i].nombre;
    input.appendChild(nuevoOption);
  
}
input.addEventListener('change', function () {
  opcionSeleccionada = input.options[input.selectedIndex];
  textoValue = opcionSeleccionada.value;
  textoOption = opcionSeleccionada.textContent;
});
while (input.firstChild) {
  input.removeChild(input.firstChild);
}
nuevoOption = document.createElement("option");
nuevoOption.value = textoValue;
nuevoOption.textContent = textoOption;
input.appendChild(nuevoOption);
for (var i = 0; i < sub.length; i++) {
  if (sub[i].nombre == textoOption) {
    hermanoHijo[0].src = sub[i].img;
    break;
  }
}















console.log(nombreInput)
switch (nombreInput) {
  case "categoria":
    padre = input.parentNode;
    hermanoPosterior = input.nextElementSibling;

    while (input.firstChild) {
      input.removeChild(input.firstChild);
    }

    nuevoOption = document.createElement("option");
    nuevoOption.value = textoValue;
    nuevoOption.textContent = textoOption;
    input.appendChild(nuevoOption);

    for (var i = 0; i < cat.length; i++) {
      if (cat[i].nombre != textoOption) {
        nuevoOption = document.createElement("option");
        nuevoOption.value = cat[i].id;
        nuevoOption.textContent = cat[i].nombre;
        input.appendChild(nuevoOption);
      }
    }
    input.addEventListener('change', function () {


      opcionSeleccionada = input.options[input.selectedIndex];
      textoValue = opcionSeleccionada.value;
      textoOption = opcionSeleccionada.textContent;


      while (input.firstChild) {
        input.removeChild(input.firstChild);
      }

      nuevoOption = document.createElement("option");
      nuevoOption.value = textoValue;
      nuevoOption.textContent = textoOption;
      input.appendChild(nuevoOption);
      input.style.backgroundColor = "red";
      for (var i = 0; i < hermanoPosterior.length; i++) {
        hermanoPosterior.options[0].remove();
      }
      nuevoOption = document.createElement("option");
      nuevoOption.value = textoValue;
      nuevoOption.textContent = "Elige una categoría";
      hermanoPosterior.appendChild(nuevoOption);

      for (var i = 0; i < cat.length; i++) {
        if (cat[i].nombre == textoOption) {
          hermanoHijo[0].src = cat[i].imgString;
          padre.style.backgroundColor = cat[i].color;
          break;
        }
      }



    });






    break;
  case "subcategoria":
    for (var i = 0; i < sub.length; i++) {
      if (sub[i].idCategoria == textoValue) {
        numero++;
      }
    }

    if (numero == 0) {
      while (input.firstChild) {
        input.removeChild(input.firstChild);
      };
      nuevoOption = document.createElement("option");
      nuevoOption.value = "0"
      nuevoOption.textContent = "Vacio";
      input.appendChild(nuevoOption);
      break;
    }



    while (input.firstChild) {
      input.removeChild(input.firstChild);
    };

    if (textoOption != "Elige una categoría") {
      nuevoOption = document.createElement("option");
      nuevoOption.value = textoValue;
      nuevoOption.textContent = textoOption;
      input.appendChild(nuevoOption);
    };


    for (var i = 0; i < sub.length; i++) {
      if (sub[i].idCategoria == textoValue) {
        numero++;
        nuevoOption = document.createElement("option");
        nuevoOption.value = textoValue + "_" + sub[i].id;
        nuevoOption.textContent = sub[i].nombre;
        input.appendChild(nuevoOption);



        break;
  default:
    console.log("Nombre de input desconocido");
    break;
}
}

});